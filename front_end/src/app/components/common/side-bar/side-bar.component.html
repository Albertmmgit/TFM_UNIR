<div class="sidebar-container">
  <!-- Mobile Menu Toggle -->
  <button 
    mat-icon-button 
    class="mobile-menu-toggle" 
    (click)="toggleMobileMenu()"
    *ngIf="isMobileView()">
    <mat-icon>menu</mat-icon>
  </button>

  <!-- Sidebar Container -->
  <div 
    class="sidebar" 
    [ngClass]="{
      'sidebar-desktop': !isMobileView(),
      'sidebar-mobile': isMobileView(),
      'sidebar-mobile-open': isMobileView() && isMobileMenuOpen
    }">
    
    <!-- User Profile Section -->
    <div class="user-profile" *ngIf="isAuthenticated">
      <img src="https://github.com/mdo.png" alt="mdo" class="rounded-circle">
    </div>

    <!-- Navigation Menu -->
    <mat-nav-list>
      <!-- General Options -->
      <mat-list-item routerLink="/dashboard" routerLinkActive="active">
        <mat-icon matListItemIcon>home</mat-icon>
        <span matListItemTitle *ngIf="isMobileView()">Dashboard</span>
      </mat-list-item>

      <!-- Admin Role Options -->
      <ng-container *ngIf="isAuthenticated && role === '1'">
        <mat-list-item routerLink="/all-users" routerLinkActive="active">
          <mat-icon matListItemIcon>people</mat-icon>
          <span matListItemTitle *ngIf="isMobileView()">All Users</span>
        </mat-list-item>
        <mat-list-item routerLink="/subjects" routerLinkActive="active">
          <mat-icon matListItemIcon>book</mat-icon>
          <span matListItemTitle *ngIf="isMobileView()">Subjects</span>
        </mat-list-item>
      </ng-container>

      <!-- Teacher Role Options -->
      <ng-container *ngIf="isAuthenticated && role === '2'">
        <mat-list-item routerLink="/my-classes" routerLinkActive="active">
          <mat-icon matListItemIcon>class</mat-icon>
          <span matListItemTitle *ngIf="isMobileView()">My Classes</span>
        </mat-list-item>
        <mat-list-item routerLink="/calendar" routerLinkActive="active">
          <mat-icon matListItemIcon>calendar_today</mat-icon>
          <span matListItemTitle *ngIf="isMobileView()">Calendar</span>
        </mat-list-item>
      </ng-container>

      <!-- Student Role Options -->
      <ng-container *ngIf="isAuthenticated && role === '3'">
        <mat-list-item routerLink="/my-courses" routerLinkActive="active">
          <mat-icon matListItemIcon>school</mat-icon>
          <span matListItemTitle *ngIf="isMobileView()">My Courses</span>
        </mat-list-item>
        <mat-list-item routerLink="/calendar" routerLinkActive="active">
          <mat-icon matListItemIcon>calendar_today</mat-icon>
          <span matListItemTitle *ngIf="isMobileView()">Calendar</span>
        </mat-list-item>
      </ng-container>

      <!-- Notifications -->
      <mat-list-item 
        [matMenuTriggerFor]="notificationsMenu" 
        *ngIf="isAuthenticated">
        <mat-icon matListItemIcon>notifications</mat-icon>
        <span matListItemTitle *ngIf="isMobileView()">Notifications</span>
      </mat-list-item>

      <!-- Logout -->
      <mat-list-item (click)="logout()">
        <mat-icon matListItemIcon>logout</mat-icon>
        <span matListItemTitle *ngIf="isMobileView()">Logout</span>
      </mat-list-item>
    </mat-nav-list>

    <!-- Notifications Menu -->
    <mat-menu #notificationsMenu="matMenu">
      <div mat-menu-item *ngFor="let notification of notifications" disabled>
        {{ notification }}
      </div>
    </mat-menu>
  </div>
</div>