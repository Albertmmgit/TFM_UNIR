<div class="modal-dialog modal-lg modal-dialog-centered">
  <div class="modal-content p-4">
    <!-- Encabezado -->
    <div class="modal-header">
      <h3 class="modal-title text-center w-100">Editar Evento</h3>
      <button type="button" class="btn-close" aria-label="Close" (click)="closeDialog()"></button>
    </div>

    <!-- Cuerpo -->
    <div class="modal-body">
      <form [formGroup]="eventForm" class="row g-3">
        <!-- ID (Solo lectura) -->
        <div class="col-12">
          <p><strong>ID:</strong> {{ data.id }}</p>
        </div>

        <!-- Título -->
        <div class="col-12">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Título</mat-label>
            <input matInput formControlName="title" placeholder="Título del evento" />
          </mat-form-field>
        </div>

        <!-- Descripción -->
        <div class="col-12">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Descripción</mat-label>
            <textarea
              matInput
              formControlName="description"
              placeholder="Descripción del evento"
              rows="3"
            ></textarea>
          </mat-form-field>
        </div>

        <!-- Fecha y hora de inicio -->
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Inicio</mat-label>
            <input
              matInput
              type="datetime-local"
              formControlName="start"
              placeholder="Fecha y hora de inicio"
            />
          </mat-form-field>
        </div>

        <!-- Fecha y hora de finalización -->
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Fin</mat-label>
            <input
              matInput
              type="datetime-local"
              formControlName="end"
              placeholder="Fecha y hora de finalización"
            />
          </mat-form-field>
        </div>

        <!-- Tipo de Ubicación -->
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Tipo de Ubicación</mat-label>
            <mat-select formControlName="locationType">
              <mat-option value="physical">Presencial</mat-option>
              <mat-option value="online">En línea</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!-- Selección de Ubicación Física -->
        <div class="col-md-6" *ngIf="eventForm.get('locationType')?.value === 'physical'">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Ubicación Física</mat-label>
            <mat-select formControlName="locationId">
              <mat-option *ngFor="let location of locations" [value]="location.id">
                {{ location.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!-- Enlace en caso de Ubicación en Línea -->
        <div class="col-md-6" *ngIf="eventForm.get('locationType')?.value === 'online'">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Enlace de Reunión</mat-label>
            <input matInput formControlName="onlineLink" placeholder="Enlace de reunión" />
          </mat-form-field>
        </div>

        <!-- ID del Curso -->
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Curso</mat-label>
            <mat-select formControlName="courseId">
              <mat-option *ngFor="let course of courses" [value]="course.id">
                {{ course.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <!-- Materia (desplegable) -->
        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Materia</mat-label>
            <mat-select formControlName="subjectId">
              <mat-option *ngFor="let subject of subjects" [value]="subject.id">
                {{ subject.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!-- Evento Todo el Día -->
        <div class="col-12">
          <mat-checkbox formControlName="allDay">¿Todo el Día?</mat-checkbox>
        </div>

      </form>
    </div>

    <!-- Pie de Página -->
    <div class="modal-footer">
      <button
        type="button"
        mat-button
        class="btn btn-secondary"
        (click)="deleteEvent()"
      >
        Eliminar
      </button>
      <button
        type="button"
        mat-button
        class="btn btn-primary"
        [disabled]="eventForm.invalid"
        (click)="save()"
      >
        Guardar
      </button>
    </div>
  </div>
</div>